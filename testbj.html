<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Blackjack</title>
    <style>
      .handCard {
        font-size: 120px;
      }
    </style>
  </head>
  <body>
    <h1>Blackjackto</h1>
    <div id="output-area"></div>
    <button type="text" id="new-game-button">New Game!</button>
    <button type="text" id="hit-button">Hit!</button>
    <button type="text" id="stay-button">Stay</button>
    <div id="winner-area"></div>

    <div style="font-size:5em" id="ornek"></div>
    <script>
      "use strict";

      const cards = [
        "🂡",
        "🂢",
        "🂣",
        "🂤",
        "🂥",
        "🂦",
        "🂧",
        "🂨",
        "🂩",
        "🂪",
        "🂫",
        "🂬",
        "🂮",
        "🂱",
        "🂲",
        "🂳",
        "🂴",
        "🂵",
        "🂶",
        "🂷",
        "🂸",
        "🂹",
        "🂺",
        "🂻",
        "🂼",
        "🂾",
        "🃁",
        "🃂",
        "🃃",
        "🃄",
        "🃅",
        "🃆",
        "🃇",
        "🃈",
        "🃉",
        "🃊",
        "🃋",
        "🃍",
        "🃎",
        "🃑",
        "🃒",
        "🃓",
        "🃔",
        "🃕",
        "🃖",
        "🃗",
        "🃘",
        "🃙",
        "🃚",
        "🃛",

        "🃝",
        "🃞"
      ];
      let deck = [];
      // 5.1
      const player = [],
        dealer = [];
      // 5.2
      let outputArea = document.getElementById("output-area");
      let round = 0;
      /**####### FONKSİYONLAR ######## **/
      /**
       * Desteyi karıştıran fonksıyon
       * @param null
       * return null
       */
      const shuffleDeck = () => {
        let tempArray, tempDeck;
        tempArray = [];
        tempDeck = [...cards]; // tüm kartlar burda

        while (tempDeck.length > 0) {
          let cardLength = tempDeck.length - 1;
          let pos = Math.floor(Math.random() * cardLength);
          let card = tempDeck[pos];
          tempArray.push(card);
          tempDeck.splice(pos, 1); // splice ( bu indexten itibaren , bu kadar adet sil)
        }
        deck = tempArray;
      };

      /**
       *
       *Ekranda gösterilen kartlar için template oluşturan fonksiyon
       */
      const getShowHandsTemplate = (player, dealer) => {
        return `
          <h2> Player</h2>
          <span class="handCard">${player[0]}</span>
          <span class="handCard">${player[1]}</span>
          <h2> Dealer </h2>
          <span class="handCard">${dealer[0]}</span>
          <span class="handCard">${dealer[1]}</span>
        `;
      };

      const drawCard = () => {
        let draw = deck.shift();
        return draw;
      };

      // 6.1
      const showHand = (hand, score) => {
        // 6.2
        let cards = "";
        // 6.4
        player.forEach(
          // 6.5-1
          // c => (cards += `<span class="handCard">${c} ${score}</span>`)
          c => (cards += c + score)
        );

        // 6.5-2
        outputArea.innerHTML += "<br/>" + cards;
      };

      // 6.8
      const clearTable = () => {
        // 6.9
        outputArea.innerHTML = "";
      };

      // 5.8
      const dealInitialCards = () => {
        // 6.10
        clearTable();

        // 5.9
        [1, 2].forEach(() => player.push(drawCard()));
        // 5.10
        [1, 2].forEach(() => dealer.push(drawCard()));

        // 6.6
        showHand(dealer, null);
        // 6.7
        showHand(player, null);
      };

      /**####### FONKSİYONLAR ######## **/
      shuffleDeck();
      dealInitialCards();
      // let hands = showHands();
      // let deal = dealInitialCards();
    </script>
  </body>
</html>
